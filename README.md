# freelog-resource-provider

飞致网络资源API服务


# 2019工作项

## 测试节点待讨论的点

 ### Q1.资源草稿箱定义以及功能描述

  资源在创建的过程中,可能存在反复修改或者部分完成的情况.但是目前的资源逻辑一旦上传资源,则不允许修改.这样不便于资源作者的创作.
  所以在资源创建的过程中,引入资源草稿箱的定义.主要目的是辅助用户把资源正确做好以后,再转换成正式的资源.
  目前设想的是草稿资源可以无限制修改资源内容和资源依赖,但是是否允许修改资源类型.是否需要校验资源文件内容等需要讨论.


 ### Q2.测试节点的资源定义,以及与presentable节点资源的区别.

  测试节点的资源主要用于测试资源在节点上的实际展示效果,同时简化了授权问题.避免产生垃圾资源以及合约.
  对于资源作者来说,可以知道自己创作的资源或者依赖的资源是否符合预期.
  对于节点来说,可以提前知道自己在资源市场上引用的资源是否符合要求.同时可以检测节点的所有资源之间相互配合嵌套的使用效果.

  测试节点的资源与presentable是两个完全独立的个体.presentable与资源需要通过合约来关联授权,测试节点的资源只需要满足对应资源的测试授权策略.
  presentable是通过正式节点域名来展示的,授权过程中会衍生很多其他的数据(合约,数据统计,支付等等信息).会存在对外授权策略
  测试节点的资源则通过测试节点域名上展示.测试节点资源对外的授权策略是默认的(节点用户一人可获得授权).授权过程相对来说尽可能不产生其他衍生数据.

  测试节点的资源UI交互需要独立于presentable,单独提供一套.


 ### Q3.测试资源的授权策略定义与描述

  测试资源授权策略主要用于提供给资源作为测试资源在测试节点上展示时的授权策略.
  该策略不会产生合约.一般只限制授权对象.没有状态机相关内容.满足授权对象,则授权通过,否则授权不通过.


 ### Q4.测试节点引用的资源范围(资源市场?自制的草稿资源?自制的未发布资源?其他?)

  A.测试节点的资源来源主要是资源市场中包含了测试资源授权策略的资源(已发布,包含预览策略)

  B.自制的未发布资源目前也倾向可以作为测试节点的资源使用.但权限只开放给开发者本人.(未发布)

  C.制作中的草稿资源是否能直接提供给测试节点使用需要讨论.(制作中,建议开放)
  其中制作中的单一资源一般在制作的时候即可以很容易知道效果.
  复合资源目前在没有开发工具的情况下,测试节点承担了主要的开发预览功能.但权限只开放给开发者本人.
  测试节点的复合资源依然需要确保所有的依赖资源都提供了测试资源授权策略,才可以完成整体的预览授权.
  如果草稿中的资源不能提供给测试节点使用,那么需要作者把草稿资源转换成正式资源,才可以完成开发预览.如果资源有问题需要反复重复此过程.那么基本失去了草稿箱的意义.
  不同于正式资源,草稿箱中的资源如果可以提供给测试节点使用,那么一旦草稿资源信息发生变动,则测试节点对应的资源也同步变动.


 ### Q5.如何处理复合资源的依赖资源的预览授权问题.(授权的乙方支点是谁)

  当复合资源作为测试节点资源时,由于存在依赖资源,那么当复合资源被他人使用时,如何确定授权问题.目前此问题可以类比授权点的依赖上抛处理.
  由于需要简化测试节点的授权流程,所以默认存在两种可以选择的可能性需要确认.
  A.复合资源本身作为预览授权的支点(类比全部处理所有依赖,不上抛).此时复合资源在被下游测试节点引用时,复合资源的依赖资源策略只检测符合资源的作者是否满足授权对象.
  B.实际使用的测试节点作为预览授权的支点(类比全部上抛所有的依赖).此时所有的复合资源和依赖的子资源全部检测测试节点的所有者是否符合授权对象.


 ### Q6.制作中(草稿箱)的复合资源依赖来源

  复合资源的依赖在目前的体系中是需要在资源市场中上架的资源.但是考虑到制作的过程中可能存在部分依赖资源也不确定正确性,我们是否需要放开这个限制.
  例如可以依赖自己草稿箱中的其他资源.但是正式发布到资源库的时候,必须确保依赖的草稿资源已经先正式发布到资源库.



## 资源版本控制

 1.资源需要一个符合规则的资源名称
 2.资源版本使用语义化版本控制(SemVer).
 3.资源创建时,确定版本.后续不允许修改资源的版本,源文件,依赖和资源类型信息.
 4.资源只有在创建时,才会需要确认资源名称不存在.资源需要更新版本时,才会校验资源名称和版本.(即更新资源版本和创建新资源需要区分出来)
 5.资源市场只会展示资源的最新版本.但是可以在资源详情中列出资源的其他版本信息和链接


## 状态机合约事件扩充与完善


## 移动端H5








