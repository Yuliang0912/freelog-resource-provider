'use strict'

const sendMessageToClusterWorkerEvent = Symbol.for(`agent#sendToClusterWorkerEvent`)
const sendMessageToClusterRandomWorkerEvent = Symbol.for(`agent#sendToClusterRandomWorkerEvent`)

module.exports = agent => {

    /**
     * 代理中转发送到随机worker
     */
    agent.messenger.on(sendMessageToClusterRandomWorkerEvent.toString(), function ({eventName, data}) {
        agent.messenger.sendRandom(eventName, data)
    })

    /**
     * 代理中转发送到所有worker
     */
    agent.messenger.on(sendMessageToClusterWorkerEvent.toString(), function ({eventName, data}) {
        agent.messenger.sendToApp(eventName, data)
    })
}